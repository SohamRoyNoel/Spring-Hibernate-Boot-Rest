package com.jdbc;

public class TestJDBC {

	public static void main(String[] args) {

		
		
	}
	
	private static Connection dbConnect(String db_connect_string, String className) {
		java.sql.Connection connection = null;
		String libpath = System.getProperty("java.library.path");
		// Get the apth for AUTHENTICATION DLLs
		libpath = "C:\\Users\\soham\\Downloads\\sqljdbc_8.2\\enu\\auth\\x64\\;" +libpath;
		System.out.println(libpath);
		Field sysPathsField;
		try {
			sysPathsField = ClassLoader.class.getDeclaredField("sys_paths");
			sysPathsField.setAccessible(true);
			sysPathsField.set(null, null);
		} catch (NoSuchFieldException | SecurityException e1) {
			e1.printStackTrace();
		} catch (IllegalArgumentException e) {
			e.printStackTrace();
		} catch (IllegalAccessException e) {
			e.printStackTrace();
		}
		try {
			Class.forName(className);
		} catch (UnsatisfiedLinkError | ClassNotFoundException e) {
			System.err.println("Native code library failed to load.\n" + e);
			System.exit(1);
		}
		try{
			connection = DriverManager.getConnection(db_connect_string);
			//System.out.println("Connected");

		}
		catch (Exception e) {
			e.printStackTrace();
		}
		return connection;
	}

}
